/*!
 * 
 * 	drivewealth-javascript - JavaScript bindings for the DriveWealth API
 * 	Author: John Shammas
 * 	Version: v1.0.0
 * 	Url: https://github.com/drivewealth/drivewealth-javascript
 * 	License(s): ISC
 * 
 */
(function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.drivewealth=t():e.drivewealth=t()})(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p="",t(0)}([function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),u=r(o),a=n(5),i=r(a),s=n(6),l=r(s),f=n(3);t.default={ENVIRONMENTS:f.ENVIRONMENTS,Account:u.default,Instrument:i.default,User:l.default,setup:f.setup},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),i=r(a),s=n(4),l=r(s),f=function(){function e(t){o(this,e);for(var n=["accountID","userID","accountNo","accountType","currencyID","ibID","margin","nickname","openedWhen","patternDayTrades","status","tradingType"],r=0;r<n.length;r++){var u=n[r];this[u]=t[u]}}return u(e,[{key:"getBlotter",value:function(e,t){e&&!t&&(t=e,e=null),(0,i.default)({method:"GET",endpoint:"/users/"+this.userID+"/accountSummary/"+this.accountID+(e?"/"+e:""),sessionKey:l.default.get(this.userID)},function(n){t&&t(null,e?n[e]:n)},function(e){return t&&t(e)})}},{key:"getPerformance",value:function(){var e="",t=void 0;if(3===arguments.length){t=arguments[2];var n=Array.prototype.slice.call(arguments),r=n[0];n[1];e+="/dateRange?",e+="startDate="+r.getFullYear()+(r.getMonth()+1)+r.getDate(),e+="&endDate="+r.getFullYear()+(r.getMonth()+1)+r.getDate()}else 2===arguments.length?(t=arguments[1],e+="/history?period="+arguments[0]):t=arguments[0];(0,i.default)({method:"GET",endpoint:"/users/"+this.userID+"/accountPerformance/"+this.accountID+e,sessionKey:l.default.get(this.userID)},function(e){t&&t(null,e.performance)},function(e){return t&&t(e)})}}],[{key:"getListForUserID",value:function(t,n){(0,i.default)({method:"GET",endpoint:"/users/"+t+"/accounts",sessionKey:l.default.get(t)},function(t){n&&n(null,t.map(function(t){return new e(t)}))},function(e){return n&&n(e)})}},{key:"BLOTTER_TYPES",get:function(){return{CASH:"cash",ORDERS:"orders",TRANSACTIONS:"transactions",POSITIONS:"positions",ALL:null}}}]),e}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){var r=e.method,u=void 0===r?"GET":r,a=e.endpoint,i=e.sessionKey,s=e.body,l=e.addlHeaders,f=void 0===l?{}:l,c={Accept:"application/json"};"POST"!==u&&"PUT"!==u&&"PATCH"!==u||(c["Content-Type"]="application/json"),i&&(c["x-mysolomeo-session-key"]=i);for(var d in f)c[d]=f[d];a=o.Config.env+a,"application/json"===c["Content-Type"]&&(s=JSON.stringify(s)),o.Config.httpImpl(u,a,c,s,function(e,r,o){"application/json"!==r["Content-Type"]&&"application/json"!==r["content-type"]||!o||(o=JSON.parse(o)),"2"===String(e)[0]||"3"===String(e)[0]?t(o,r):n(o,r)})}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r;var o=n(3);e.exports=t.default},function(e,t){"use strict";function n(e){var t=e.env,n=e.httpImpl,o=e.appTypeID,u=e.appVersion;r.env=t,r.httpImpl=n,r.appTypeID=o,r.appVersion=u}Object.defineProperty(t,"__esModule",{value:!0}),t.setup=n;var r=t.Config={env:null,httpImpl:null,appTypeID:null,appVersion:null};t.ENVIRONMENTS={UAT:"http://api.drivewealth.io/v1",PROD:"https://api.drivewealth.net/v1"}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(){function e(){n(this,e),this._keys={},this._mainUser=null}return r(e,[{key:"save",value:function(e,t){this._keys[e]=t,this._mainUser||(this._mainUser=e)}},{key:"get",value:function(e){return this._keys[e]}},{key:"getAny",value:function(){return this._keys[this._mainUser]}}]),e}(),u=t.sessions=new o;t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),i=r(a),s=n(4),l=r(s),f=function(){function e(t){o(this,e);for(var n=["instrumentID","name","exchangeID","instrumentTypeID","orderSizeMax","orderSizeMin","orderSizeStep","rateAsk","rateBid","ratePrecision","symbol","tradeStatus","urlImage","urlInvestor","chaikinPgr","priorClose","marketState","fundamentalDataModel"],r=0;r<n.length;r++){var u=n[r];this[u]=t[u]}}return u(e,[{key:"getQuote",value:function(t){return e.getQuote(this.symbol,t)}},{key:"getChartData",value:function(){return 4===arguments.length?e.getChartData(this.instrumentID,arguments[0],arguments[1],arguments[2],arguments[3]):e.getChartData(this.instrumentID,arguments[0],arguments[1],arguments[2])}}],[{key:"getBySymbol",value:function(t,n){var r=t;"string"==typeof t&&(r=[t]),(0,i.default)({method:"GET",endpoint:"/instruments?symbol="+r.join(","),sessionKey:l.default.getAny()},function(r){r=r.map(function(t){return new e(t)}),n&&n(null,"string"==typeof t?r[0]:r)},function(e){return n&&n(e)})}},{key:"getByID",value:function(t){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=arguments[2];(0,i.default)({method:"GET",endpoint:"/instruments/"+t+(n?"?options=F":""),sessionKey:l.default.getAny()},function(t){r&&r(null,new e(t))},function(e){return r&&r(e)})}},{key:"getAll",value:function(t,n){n||(n=t,t="-1"),(0,i.default)({method:"GET",endpoint:"/instruments?tradeStatus="+t,sessionKey:l.default.getAny()},function(t){n&&n(null,t.map(function(t){return new e(t)}))},function(e){return n&&n(e)})}},{key:"search",value:function(t,n){var r="?";t.symbol&&(r+="symbol="+t.symbol+"&"),t.name&&(r+="name="+t.name+"&"),(0,i.default)({method:"GET",endpoint:"/instruments"+r,sessionKey:l.default.getAny()},function(t){n&&n(null,t.map(function(t){return new e(t)}))},function(e){return n&&n(e)})}},{key:"getQuote",value:function(t,n){var r=!1;Array.isArray(t)||(r=!0,t=[t]),t=t.map(function(t){return t instanceof e?t.symbol:t}),(0,i.default)({method:"GET",endpoint:"/quotes?symbols="+t.join(","),sessionKey:l.default.getAny(),addlHeaders:{Accept:"text/plain"}},function(e){var o={};e=e.split("|").slice(10);var u=!0,a=!1,i=void 0;try{for(var s,l=e[Symbol.iterator]();!(u=(s=l.next()).done);u=!0){var f=s.value,c=f.split(",");o[c[0]]={bid:c[1],ask:c[2]}}}catch(e){a=!0,i=e}finally{try{!u&&l.return&&l.return()}finally{if(a)throw i}}r&&(o=o[t[0]]),n&&n(null,o)},function(e){return n&&n(e)})}},{key:"getChartData",value:function(e,t){var n=void 0,r=void 0;if(5===arguments.length){var o=arguments[2].replace(/\.\d{3}/,""),u=arguments[3].replace(/\.\d{3}/,"");r="dateStart="+o+"&dateEnd="+u,n=arguments[4]}else r="tradingDays="+arguments[2],n=arguments[3];(0,i.default)({method:"GET",endpoint:"/bars?instrumentID="+e+"&compression="+t+"&"+r,sessionKey:l.default.getAny()},function(e){n&&n(null,e.data)},function(e){return n&&n(e)})}},{key:"TRADE_STATUSES",get:function(){return{INACTIVE:"0",ACTIVE:"1",CLOSED:"2"}}},{key:"CHART_COMPRESSIONS",get:function(){return{DAY:0,MINUTE_ONE:1,MINUTE_FIVE:4,MINUTE_30:8,HOUR:9,WEEK:10}}}]),e}();t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(2),i=r(a),s=n(3),l=n(4),f=r(l),c=n(1),d=r(c),p=function(){function e(t){o(this,e);for(var n=["countryID","emailAddress","firstName","languageID","lastName","phoneNumber","referralCode","userID","username","wlpID","status","usCitizen","lastLoginWhen","citizenship"],r=0;r<n.length;r++){var u=n[r];this[u]=t[u]}}return u(e,[{key:"getAccounts",value:function(e){d.default.getListForUserID(this.userID,e)}}],[{key:"getByUserID",value:function(t,n){(0,i.default)({method:"GET",endpoint:"/users/"+t,sessionKey:f.default.get(t)},function(t){n&&n(null,new e(t))},function(e){return n&&n(e)})}},{key:"login",value:function(t,n,r){(0,i.default)({method:"POST",endpoint:"/userSessions",body:{username:t,password:n,appTypeID:s.Config.appTypeID,appVersion:s.Config.appVersion,languageID:"en_US",osType:"unknown",osVersion:"unknown",scrRes:"unknown",ipAddress:"unknown"}},function(t){f.default.save(t.userID,t.sessionKey),e.getByUserID(t.userID,function(e,t){return e?r&&r(e):void(r&&r(null,t))})},function(e){return r&&r(e)})}}]),e}();t.default=p,e.exports=t.default}])});
//# sourceMappingURL=drivewealth.min.js.map
